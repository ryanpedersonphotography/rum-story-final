/* ========================================================================== *
   FILE: src/styles/globals.css
   PURPOSE: Clean global reset + base, no visual mutation of components.
            Loads AFTER theme tokens in your layout.

   NOTE: @layer declaration moved to theme.css for unified CSS layer system.
 * ========================================================================== */

/* ===== Component Imports ===== */
/* buttons.css imported in layout.js - removed duplicate import */

@layer base {
  /* 1) Modern reset with low specificity */
*,
*::before,
*::after { box-sizing: border-box; }
* { margin: 0; }

/* Fix 20px shift: Reserve space for scrollbar to prevent layout shift */
html {
  height: 100%;
  scrollbar-gutter: stable both-edges;

  /* Font rendering polish (variable fonts) */
  font-variation-settings: 'opsz';
  font-synthesis-weight: none;
}

body {
  height: 100%;
  line-height: var(--line-normal);
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  background: var(--surface-0);
  color: var(--text-primary);
  font-family: var(--font-sans);
  font-size: var(--size-base);
}



/* Media defaults */
img, picture, video, canvas, svg { display: block; max-width: 100%; }
input, button, textarea, select { font: inherit; }

/* To prevent text overflows */
p, h1, h2, h3, h4, h5, h6 { overflow-wrap: anywhere; }

/* Headings (keep minimal; components own their exact sizes) */
h1, h2, h3, h4, h5, h6 {
  color: var(--text-primary);
  font-family: var(--font-serif);
  line-height: var(--line-tight);
  font-weight: var(--weight-regular);
}

/* Links */
a {
  color: inherit;
  text-decoration: none;
}
a:hover { text-decoration: underline; }

/* Focus styles (consistent across app) */
:focus-visible {
  outline: var(--focus-width) solid var(--focus-ring);
  outline-offset: var(--focus-offset);
}

/* Selection */
::selection {
  background: color-mix(in oklch, var(--accent-rose) 25%, white);
  color: var(--text-inverse);
}

/* Reduced motion - global accessibility guard */
@media (prefers-reduced-motion: reduce) {
  [data-clean-root="true"] * {
    animation: none !important;
    transition: none !important;
  }
}

} /* End @layer base */

@layer utilities {
  /* ===== SECTION SPACING SYSTEM ===== */
  .section[data-margin-top="none"] { margin-top: 0; }
  .section[data-margin-top="xs"] { margin-top: var(--space-xs); }
  .section[data-margin-top="sm"] { margin-top: var(--space-sm); }
  .section[data-margin-top="md"] { margin-top: var(--space-md); }
  .section[data-margin-top="lg"] { margin-top: var(--space-lg); }
  .section[data-margin-top="xl"] { margin-top: var(--space-xl); }

  .section[data-margin-bottom="none"] { margin-bottom: 0; }
  .section[data-margin-bottom="xs"] { margin-bottom: var(--space-xs); }
  .section[data-margin-bottom="sm"] { margin-bottom: var(--space-sm); }
  .section[data-margin-bottom="md"] { margin-bottom: var(--space-md); }
  .section[data-margin-bottom="lg"] { margin-bottom: var(--space-lg); }
  .section[data-margin-bottom="xl"] { margin-bottom: var(--space-xl); }

  .section[data-padding-y="none"] { padding-top: 0; padding-bottom: 0; }
  .section[data-padding-y="xs"] { padding-top: var(--space-xs); padding-bottom: var(--space-xs); }
  .section[data-padding-y="sm"] { padding-top: var(--space-sm); padding-bottom: var(--space-sm); }
  .section[data-padding-y="md"] { padding-top: var(--space-md); padding-bottom: var(--space-md); }
  .section[data-padding-y="lg"] { padding-top: var(--space-lg); padding-bottom: var(--space-lg); }
  .section[data-padding-y="xl"] { padding-top: var(--space-xl); padding-bottom: var(--space-xl); }
  .section[data-padding-y="fluid"] { padding-top: clamp(var(--space-md), 10vh, var(--space-xl)); padding-bottom: clamp(var(--space-md), 10vh, var(--space-xl)); }

  /* ===== AUTOMATIC SECTION SPACING ===== */
  .section + .section {
    margin-top: var(--space-lg); /* Default gap */
  }

  /* Special case: After hero */
  [data-section="hero"] + .section {
    margin-top: var(--space-xl);
  }

  /* Special case: Before footer */
  .section:has(+ footer) {
    margin-bottom: var(--space-xl);
  }
}