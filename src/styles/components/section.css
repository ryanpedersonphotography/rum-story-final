:root {
  /* Site-wide layout tokens */
  --gutter: clamp(16px, 4vw, 32px);
  --rail-height: 64px; /* match your glass rail */
  --elev-0: none;
  --elev-1: 0 4px 14px rgba(0,0,0,.08);
  --elev-2: 0 10px 28px rgba(0,0,0,.12);
  --elev-3: 0 20px 48px rgba(0,0,0,.18);
}

/* Base */
.section {
  position: relative;
  width: 100%;
  padding-block: var(--space-48, 3rem);
  /* remove inline padding so backgrounds can go edge-to-edge */
  padding-inline: 0;
  background: transparent;
  border-radius: 0;
  box-shadow: none;
  /* safe stacking for overlaps */
  z-index: 0;
}

.section__inner { width: 100%; height: 100%; }

/* Content container gains the horizontal gutter and max-width */
.section__container {
  width: 100%;
  max-width: var(--width-content, 1200px);
  margin-inline: auto;
  padding-inline: var(--gutter);
  display: flex;
  flex-direction: column;
}

/* LAYERS */
.section[data-layer="base"] { background: transparent; }

.section[data-layer="partial"] {
  background: var(--surface-1, color-mix(in oklch, Canvas 96%, black 4%));
}

.section[data-layer="isolated"] {
  background: var(--surface-2, Canvas);
  border-radius: var(--radius-12, .75rem);
  /* keep a little air so isolated blocks don't kiss edges */
  margin-inline: var(--gutter);
  /* isolated should also own its padding so its bg breathes */
  padding-block: clamp(24px, 6vw, 64px);
}

/* WIDTHS */
.section[data-width="prose"] .section__container { max-width: var(--width-prose, 65ch); }
.section[data-width="content"] .section__container { max-width: var(--width-content, 1200px); }
.section[data-width="wide"] .section__container { max-width: var(--width-wide, 1400px); }
.section[data-width="full"] .section__container { max-width: none; padding-inline: 0; }

/* ALIGN */
.section[data-align="left"] .section__container { align-items: flex-start; text-align: left; }
.section[data-align="center"] .section__container { align-items: center; text-align: center; }
.section[data-align="right"] .section__container { align-items: flex-end; text-align: right; }

/* ELEVATION (tokenized) */
.section[data-elevation="0"] { box-shadow: var(--elev-0); }
.section[data-elevation="1"] { box-shadow: var(--elev-1); }
.section[data-elevation="2"] { box-shadow: var(--elev-2); }
.section[data-elevation="3"] { box-shadow: var(--elev-3); }

/* RAIL OFFSET (optional) */
.section[data-rail-offset="true"] {
  margin-top: calc(var(--rail-height) * -1);
  padding-top: calc(var(--rail-height) + var(--space-24, 1.5rem));
}

/* OVERLAPS (magazine feel) */
.section[data-overlap="top"] { margin-top: -clamp(8px, 2vw, 28px); }
.section[data-overlap="bottom"] { margin-bottom: -clamp(8px, 2vw, 28px); }

/* FLOAT ABOVE (hero special) */
.section[data-float="true"] { z-index: 2; position: relative; }

/* HEADER PLACEMENT - for magazine-style layouts */
.section[data-header-placement="outside"] {
  /* When header sits outside/above the section background */
  padding-top: 0;
}

.section[data-header-placement="outside"] .section__container {
  position: relative;
}

.section[data-header-placement="outside"] .section__container > :first-child {
  /* First child (typically header/title) gets negative margin to sit outside */
  margin-top: calc(-1 * var(--space-32, 2rem));
  margin-bottom: var(--space-24, 1.5rem);
}

/* Inside is default - header sits within section padding */
.section[data-header-placement="inside"] {
  /* explicit default, header stays within normal flow */
}

/* MOBILE */
@media (max-width: 768px) {
  .section { padding-block: var(--space-32, 2rem); }
  .section__container { padding-inline: calc(var(--gutter) * .75); }

  .section[data-layer="isolated"] {
    border-radius: var(--radius-8, .5rem);
    margin-inline: calc(var(--gutter) * .5);
  }

  /* attenuate elevation one step */
  .section[data-elevation="1"] { box-shadow: var(--elev-0); }
  .section[data-elevation="2"] { box-shadow: var(--elev-1); }
  .section[data-elevation="3"] { box-shadow: var(--elev-2); }

  /* rail offset not needed on mobile if the rail collapses */
  .section[data-rail-offset="true"] {
    margin-top: 0;
    padding-top: var(--space-24, 1.5rem);
  }
  
  /* reduce header outside offset on mobile */
  .section[data-header-placement="outside"] .section__container > :first-child {
    margin-top: calc(-1 * var(--space-16, 1rem));
    margin-bottom: var(--space-16, 1rem);
  }
}

/* ===== SECTION HEADER TYPOGRAPHY ===== */
/* Header container */
.section__header {
  margin-bottom: clamp(2rem, 4vw, 3rem);
  text-align: center;
}

.section[data-align="left"] .section__header {
  text-align: left;
}

.section[data-align="right"] .section__header {
  text-align: right;
}

/* Script accent */
.section__script-accent {
  font-family: var(--font-script, 'Dancing Script', cursive);
  color: var(--theme-accent-rose, #9D6B7B);
  font-size: clamp(1.5rem, 3.2vw, 1.75rem);
  margin-bottom: var(--space-12, 0.75rem);
  font-weight: 400;
  display: block;
}

/* Title */
.section__title {
  font-family: var(--font-serif, 'Playfair Display', serif);
  font-size: clamp(2.25rem, 4.8vw, 3rem);
  color: inherit;
  margin: 0 0 var(--space-12, 0.75rem);
  font-weight: 400;
  line-height: 1.2;
}

/* Lead text */
.section__lead {
  color: var(--theme-text-secondary, #8B7355);
  font-size: clamp(1rem, 2.4vw, 1.125rem);
  line-height: 1.7;
  max-width: 48ch;
  margin: 0 auto;
}