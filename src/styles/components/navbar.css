/* ===============================================================
   FILE: src/styles/components/navbar.css
   Purpose: Clean Navbar with Storyblok integration - Token-driven
   =============================================================== */

   @layer components {

    /* NAVBAR HIDDEN - Preserving all functionality while hiding visually */
    [data-clean-root="true"] .navbar {
      display: none !important;
    }

    /* Root navbar container */
    [data-clean-root="true"] .navbar {
      position: fixed;
      inset: 0 auto auto 0;
      right: 0;
      width: 100%;
      z-index: 1000;
      background: transparent;
      backdrop-filter: none;
      border-bottom: 1px solid transparent;
      transition: all 400ms ease, background 200ms ease, box-shadow 200ms ease, border-color 200ms ease;
      padding: var(--space-24) 0;
      font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  
    }
  
    /* Dark theme token hints (scoped to navbar) */
    html[data-theme="dark"] [data-clean-root="true"] .navbar {
      --navbar-link: var(--navbar-text);
      --navbar-link-hover: var(--navbar-accent);
    }
  
    /* Container */
    [data-clean-root="true"] .navbar__container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 var(--space-32);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
  
    /* Logo */
    [data-clean-root="true"] .navbar__logo {
      display: flex;
      align-items: center;
      gap: var(--space-12);
      flex-shrink: 0;
      text-decoration: none;
      color: var(--navbar-link, var(--navbar-text));
      font-weight: 600;
      font-size: 18px;
      transition: color 150ms ease, opacity 150ms ease;
      text-shadow: var(--shadow-text-soft);
    }
  
    [data-clean-root="true"] .navbar__logo:hover {
      opacity: 0.85;
    }
  
    [data-clean-root="true"] .navbar__logo-icon {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      display: grid;
      place-items: center;
      background: var(--navbar-logo-grad);
      color: var(--navbar-cta-text);
      font-weight: 700;
      font-size: 14px;
    }
  
    [data-clean-root="true"] .navbar__logo-text {
      white-space: nowrap;
    }
  
    /* Desktop Nav */
    [data-clean-root="true"] .navbar__nav {
      display: none;
      align-items: center;
      gap: var(--space-32);
    }
  
    /* Base link styling uses tokens */
    [data-clean-root="true"] .navbar__link {
  color: var(--navbar-link, var(--navbar-text));
      text-decoration: none;
      font-weight: 500;
      font-size: 14px;
      letter-spacing: 0.01em;
      transition: color 150ms ease, opacity 150ms ease, width 180ms ease;
      position: relative;
      padding: var(--space-8) 0;
      white-space: nowrap;
      text-shadow: var(--shadow-text-soft);
    }
  
    [data-clean-root="true"] .navbar__link:hover {
      color: var(--navbar-link-hover);
    }
  
    /* Underline affordance */
    [data-clean-root="true"] .navbar__link::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      width: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--navbar-accent) 0%, var(--navbar-link-hover) 100%);
      transform: translateX(-50%);
      transition: transform 180ms ease, width 180ms ease;
    }
  
    [data-clean-root="true"] .navbar__link:hover::after {
      width: 100%;
    }
  
    /* CTA */
    [data-clean-root="true"] .navbar__cta {
      background: var(--navbar-cta-bg);
      color: var(--navbar-cta-text);
      padding: var(--space-8) var(--space-24);
      border-radius: 6px;
      text-decoration: none;
      font-weight: 600;
      font-size: 14px;
      white-space: nowrap;
      transition: transform 150ms ease, box-shadow 150ms ease;
      box-shadow: var(--shadow-elev-1);
    }
  
    [data-clean-root="true"] .navbar__cta:hover {
      transform: translateY(-1px);
      box-shadow: var(--shadow-elev-3);
    }
  
    /* Mobile button */
    [data-clean-root="true"] .navbar__mobile-btn {
      display: grid;
      place-items: center;
      background: transparent;
      border: none;
  color: var(--navbar-link, var(--navbar-text));
      cursor: pointer;
      padding: var(--space-8);
      transition: opacity 150ms ease;
      text-shadow: var(--shadow-text-soft);
    }
  
    [data-clean-root="true"] .navbar__mobile-btn:hover {
      opacity: 0.85;
    }
  
    /* Theme Toggle â€” explicit visibility & color inheritance */
    [data-clean-root="true"] .theme-toggle,
    [data-clean-root="true"] .dark-mode-toggle {
      color: var(--navbar-link, var(--text-primary));
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      opacity: 1;
      visibility: visible;
      position: relative;
      z-index: 2; /* stay above local glass elements */
      background: transparent;
      border: none;
      cursor: pointer;
      padding: var(--space-8);
      transition: opacity 150ms ease, color 150ms ease;
      text-shadow: var(--shadow-text-soft);
    }
  
    [data-clean-root="true"] .theme-toggle:hover,
    [data-clean-root="true"] .theme-toggle:focus-visible,
    [data-clean-root="true"] .dark-mode-toggle:hover,
    [data-clean-root="true"] .dark-mode-toggle:focus-visible {
      color: var(--navbar-link-hover, var(--navbar-accent));
    }
  
    /* Heroicons (SVG) follow currentColor */
    [data-clean-root="true"] .theme-toggle svg,
    [data-clean-root="true"] .dark-mode-toggle svg {
      width: 24px;
      height: 24px;
      fill: currentColor;
      stroke: currentColor;
      transition: color 150ms ease, transform 200ms ease;
    }
  
    [data-clean-root="true"] .theme-toggle:hover svg,
    [data-clean-root="true"] .theme-toggle:focus-visible svg,
    [data-clean-root="true"] .dark-mode-toggle:hover svg,
    [data-clean-root="true"] .dark-mode-toggle:focus-visible svg {
      transform: scale(1.1);
    }
  
    /* Icon switching helpers (optional if you render a single icon) */
    html[data-theme="light"] [data-clean-root="true"] .theme-toggle .icon-sun { display: none; }
    html[data-theme="light"] [data-clean-root="true"] .theme-toggle .icon-moon { display: inline-block; }
    html[data-theme="dark"]  [data-clean-root="true"] .theme-toggle .icon-sun { display: inline-block; }
    html[data-theme="dark"]  [data-clean-root="true"] .theme-toggle .icon-moon { display: none; }
  
    /* Scrolled State (glassy) */
    [data-clean-root="true"] .navbar.scrolled {
      background: var(--navbar-scroll-bg);
      backdrop-filter: blur(8px) saturate(1.2);
      -webkit-backdrop-filter: blur(8px) saturate(1.2);
      border-bottom: 1px solid var(--navbar-underline);
      box-shadow: var(--shadow-elev-2);
      padding: var(--space-16) 0;
    }
  
    [data-clean-root="true"] .navbar.scrolled .navbar__link,
    [data-clean-root="true"] .navbar.scrolled .navbar__logo,
    [data-clean-root="true"] .navbar.scrolled .navbar__mobile-btn,
    [data-clean-root="true"] .navbar.scrolled .theme-toggle,
    [data-clean-root="true"] .navbar.scrolled .dark-mode-toggle {
  color: var(--navbar-link, var(--navbar-text));
      text-shadow: var(--shadow-text-soft);
    }
  
    /* Mobile Drawer */
    [data-clean-root="true"] .navbar__mobile-menu {
      position: fixed;
      inset: 0;
      background: color-mix(in oklch, var(--navbar-bg) 95%, black 5%);
      backdrop-filter: blur(10px) saturate(1.3);
      -webkit-backdrop-filter: blur(10px) saturate(1.3);
      z-index: 1001;
      opacity: 0;
      visibility: hidden;
      transition: opacity 220ms ease, visibility 220ms ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: var(--space-32);
      padding: var(--space-80) var(--space-32) var(--space-32);
    }
  
    [data-clean-root="true"] .navbar__mobile-menu.open {
      opacity: 1;
      visibility: visible;
    }
  
    [data-clean-root="true"] .navbar__mobile-menu .navbar__link {
      color: var(--navbar-link);
      font-size: 24px;
      font-weight: 400;
      text-shadow: var(--shadow-text-soft);
    }
  
    [data-clean-root="true"] .navbar__mobile-menu .navbar__link:hover {
      color: var(--navbar-link-hover);
    }
  
    [data-clean-root="true"] .navbar__cta-mobile {
      background: var(--navbar-cta-bg);
      color: var(--navbar-cta-text);
      padding: var(--space-16) var(--space-48);
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      font-size: 16px;
      margin-top: var(--space-16);
      box-shadow: var(--shadow-elev-2);
    }
  
    /* Close */
    [data-clean-root="true"] .navbar__mobile-close {
      position: absolute;
      top: 24px;
      right: 24px;
      background: transparent;
      border: none;
      color: var(--navbar-text);
      cursor: pointer;
      padding: var(--space-8);
      transition: opacity 150ms ease;
    }
  
    [data-clean-root="true"] .navbar__mobile-close:hover {
      opacity: 0.7;
    }
  
    /* A11y focus */
    [data-clean-root="true"] .navbar__link:focus-visible,
    [data-clean-root="true"] .navbar__cta:focus-visible,
    [data-clean-root="true"] .navbar__mobile-btn:focus-visible,
    [data-clean-root="true"] .theme-toggle:focus-visible,
    [data-clean-root="true"] .dark-mode-toggle:focus-visible {
      outline: var(--focus-width, 3px) solid var(--focus-ring, var(--navbar-accent));
      outline-offset: var(--focus-offset, 3px);
    }
  
    /* Responsive */
    @media (min-width: 900px) {
      [data-clean-root="true"] .navbar__nav {
        display: flex;
      }
      [data-clean-root="true"] .navbar__mobile-btn {
        display: none;
      }
    }
  
    @media (min-width: 1024px) {
      [data-clean-root="true"] .navbar__link {
        font-size: 15px;
      }
    }
  
    @media (min-width: 1200px) {
      [data-clean-root="true"] .navbar__nav {
        gap: var(--space-40);
      }
    }
  
  } /* End @layer components */